# BerthCare Implementation Plan

**Version:** 1.0.0
**Generated:** October 7, 2025
**Source:** BerthCare Technical Architecture Blueprint v1.0.0
**Philosophy:** Simplicity is the ultimate sophistication

---

## Overview

This implementation plan translates the BerthCare Technical Architecture Blueprint into executable engineering tasks. Every requirement from the architecture document is mapped to specific steps with clear acceptance criteria, dependencies, and deliverables.

**Key Principles:**

- Offline-first architecture (local SQLite as source of truth)
- Zero friction user experience (auto-save, smart data reuse, voice input)
- Invisible technology (no save buttons, no sync buttons, no loading spinners)
- Obsessive performance (sub-100ms UI, <2s app launch, <1s auto-save)
- Uncompromising security (end-to-end encryption, Canadian data residency, PIPEDA compliance)

**Team Structure:**

- Frontend Developers (React Native/Expo)
- Backend Developers (Node.js/Express)
- DevOps Engineers (AWS infrastructure)
- QA Engineers (Testing & quality assurance)
- Security Engineers (Security & compliance)

**Timeline:** 6 months with 4-6 engineers, assuming average velocity and parallelization across phases.

---

## Phase E – Environment & Tooling

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|--------------| --------- |-----|--------|
| E1  | Initialize Git repository | Create monorepo at GitHub; add README.md with project overview, LICENSE (MIT or proprietary), .gitignore (Node, React Native, IDE files), .editorconfig (consistent formatting), CODEOWNERS (code review assignments); enable branch protections on `main` (require 1+ reviews, status checks, signed commits); initial commit. Reference: Arch Blueprint - project-documentation/architecture-output.md v1.0.0 – System Architecture Overview. | – | GitHub repo URL; base scaffold files| Repo exists; branch protections active; initial commit visible; README describes project | DevOps | 0.5d|
| E2  | Set up CI bootstrap| Configure GitHub Actions to run on PRs to `main`: ESLint, Prettier, TypeScript type checks, unit tests (Jest), SAST (Snyk or SonarCloud), dependency audit (npm audit). All checks required before merge. Reference: Arch Blueprint - project-documentation/architecture-output.md – Infrastructure section.| E1| `.github/workflows/ci.yml`; passing sample run| CI triggers on PR; all checks run; required in branch rules | DevOps | 1d  |
| E3  | Configure monorepo structure | Set up Nx or Turborepo for monorepo management; create workspace structure: `/apps/mobile`, `/apps/backend`, `/libs/shared`, `/docs`; configure shared TypeScript config, ESLint, Prettier. Assumptions: Nx chosen for better caching and task orchestration.  | E2| Monorepo config files; workspace structure  | `nx run-many` executes tasks across projects; shared configs work  | DevOps | 1d  |
| E4  | Set up local development environment | Create Docker Compose file for local development: PostgreSQL 15, Redis 7, LocalStack (S3 emulation); create `.env.example` with all required environment variables; document setup in `/docs/local-setup.md`. Reference: Arch Blueprint - project-documentation/architecture-output.md – Data Layer.  | E3| `docker-compose.yml`; `.env.example`; setup docs | `docker-compose up` starts all services; backend connects successfully| DevOps | 1d  |
| E5  | Configure AWS infrastructure (staging) | Set up AWS account in ca-central-1 region; create VPC with public/private subnets; configure RDS PostgreSQL 15 (Multi-AZ for staging); ElastiCache Redis cluster; S3 buckets (photos, documents); CloudFront distribution; IAM roles with least privilege. Reference: Arch Blueprint - project-documentation/architecture-output.md – Infrastructure, Canadian data residency. Assumptions: Terraform for IaC.| E4| Terraform configs; AWS resources provisioned| All resources created in ca-central-1; connectivity verified| DevOps | 3d  |
| E6  | Set up monitoring & observability | Configure CloudWatch dashboards for API metrics (latency, error rate, throughput); set up Sentry for error tracking (backend + mobile); create initial alerts (API error rate >5%, database CPU >80%); configure log aggregation. Reference: Arch Blueprint - project-documentation/architecture-output.md – Monitoring section.| E5| CloudWatch dashboards; Sentry projects; alert rules | Dashboards show metrics; test error appears in Sentry  | DevOps | 1.5d|
| E7  | Configure Twilio accounts | Create Twilio account; purchase Canadian phone numbers for voice calls and SMS; configure webhook URLs (placeholder); set up subaccounts for staging/production; document API keys in AWS Secrets Manager. Reference: Arch Blueprint - project-documentation/architecture-output.md – Communication Services.  | E5| Twilio account; phone numbers; webhook config | Test call and SMS work; credentials in Secrets Manager | DevOps | 0.5d|
| E8  | Update architecture docs – Environment setup | Document all infrastructure decisions, AWS resource IDs, Twilio configuration, local development setup in `/docs/architecture.md`; update architecture diagrams with actual resource names. | E7| Updated `/docs/architecture.md`  | Docs reflect current infrastructure; diagrams accurate | DevOps | 0.5d|

---

## Phase B – Backend Core Infrastructure

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G1  | Create feature branch – backend scaffold | Branch `feat/backend-scaffold` from `main`; link to issue #1; open draft PR with checklist (setup Express, DB connection, health check).| E8| Branch + draft PR | PR open; CI triggered| Backend Dev | 0.1d|
| B1  | Initialize Express.js backend | Set up Express.js 4.x with TypeScript; configure middleware (helmet, cors, compression, express-rate-limit); create health check endpoint `GET /health`; configure logging (Winston); set up error handling middleware. Reference: Arch Blueprint - project-documentation/architecture-output.md – Backend Services Layer. Assumptions: Port 3000 for local, environment variable for production. | G1| `/apps/backend` with Express setup; health endpoint | `curl localhost:3000/health` returns 200; logs to console | Backend Dev | 1d  |
| B2  | Configure database connection | Set up PostgreSQL connection using `pg` library with connection pooling (max 20 connections); create database migration framework (node-pg-migrate); implement connection health check; configure read replica support (placeholder). Reference: Arch Blueprint - project-documentation/architecture-output.md – Data Layer, PostgreSQL section.  | B1| Database connection module; migration setup | Backend connects to local PostgreSQL; migrations run| Backend Dev | 1d  |
| B3  | Configure Redis connection| Set up Redis client using `ioredis`; implement connection retry logic (exponential backoff); create Redis health check; configure for session management and caching. Reference: Arch Blueprint - project-documentation/architecture-output.md – Redis section.  | B1| Redis connection module| Backend connects to local Redis; test set/get works | Backend Dev | 0.5d|
| B4  | Set up S3 client  | Configure AWS SDK v3 for S3; implement pre-signed URL generation for uploads; create helper functions for photo storage (with compression metadata); configure lifecycle policies (archive after 7 years). Reference: Arch Blueprint - project-documentation/architecture-output.md – File Storage.  | B1| S3 client module; pre-signed URL functions  | Generate pre-signed URL; upload test file successfully | Backend Dev | 1d  |
| G2  | Run CI, request review, merge PR – backend scaffold | Fix any ESLint/TypeScript errors; ensure tests pass; request review from senior backend dev; address feedback; squash-merge using "feat: initialize backend core infrastructure".| B4| Merged PR; release notes  | CI green; 1+ approval; branch deleted  | Backend Dev | 0.25d  |

---

## Phase A – Authentication & Authorization

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G3  | Create feature branch – authentication | Branch `feat/auth-system` from `main`; link to issue #2; open draft PR with checklist (JWT, login, refresh, middleware).| G2| Branch + draft PR| PR open; CI triggered| Backend Dev | 0.1d|
| A1  | Design database schema – users & auth  | Create migration for `users` table (id, email, password_hash, first_name, last_name, role, zone_id, created_at, updated_at); `refresh_tokens` table (id, user_id, token_hash, device_id, expires_at); add indexes on email, zone_id. Reference: Arch Blueprint - project-documentation/architecture-output.md – Authentication section. | G3| Migration file `001_create_users_auth.sql` | Migration runs; tables created; indexes exist| Backend Dev | 0.5d|
| A2  | Implement password hashing  | Create auth utility module using bcrypt (cost factor 12); implement `hashPassword()` and `verifyPassword()` functions; add unit tests (valid password, invalid password, timing attack resistance). Reference: Arch Blueprint - project-documentation/architecture-output.md – Security, bcrypt section.| A1| `/libs/shared/auth-utils.ts`; unit tests| Tests pass; hashing takes ~200ms (secure)  | Backend Dev | 0.5d|
| A3  | Implement JWT token generation | Create JWT utility module using `jsonwebtoken`; implement `generateAccessToken()` (1 hour expiry) and `generateRefreshToken()` (30 days expiry); include user id, role, zone_id in payload; use RS256 algorithm with key rotation support. Reference: Arch Blueprint - project-documentation/architecture-output.md – JWT authentication. Assumptions: Store private key in AWS Secrets Manager.  | A2| JWT utility module; unit tests  | Generate and verify tokens successfully; expiry works  | Backend Dev | 1d  |
| A4  | Implement POST /v1/auth/register endpoint | Create registration endpoint: validate email format, password strength (min 8 chars, 1 uppercase, 1 number); hash password; insert user into database; return access + refresh tokens; implement rate limiting (5 attempts per hour per IP). Reference: Arch Blueprint - project-documentation/architecture-output.md – Authentication Endpoints. Assumptions: Admin-only registration for MVP (caregivers added by admin). | A3| Registration endpoint; integration tests| Register user successfully; duplicate email returns 409; rate limit works | Backend Dev | 1.5d|
| A5  | Implement POST /v1/auth/login endpoint | Create login endpoint: validate credentials; verify password; generate access + refresh tokens; store refresh token hash in database with device_id; return user profile + tokens; implement rate limiting (10 attempts per 15 minutes per IP). Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/auth/login. | A4| Login endpoint; integration tests  | Login succeeds with valid credentials; 401 for invalid; rate limit works  | Backend Dev | 1.5d|
| A6  | Implement POST /v1/auth/refresh endpoint  | Create token refresh endpoint: validate refresh token; check if token exists in database and not expired; generate new access token; return new access token. Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/auth/refresh.| A5| Refresh endpoint; integration tests| Refresh succeeds with valid token; 401 for invalid/expired| Backend Dev | 1d  |
| A7  | Implement JWT authentication middleware| Create Express middleware to verify JWT on protected routes; extract user from token; attach to `req.user`; handle expired tokens (401); handle invalid tokens (401); implement token blacklist using Redis (for logout). Reference: Arch Blueprint - project-documentation/architecture-output.md – API Gateway, JWT authentication.| A6| Auth middleware; unit tests| Middleware blocks unauthenticated requests; allows valid tokens| Backend Dev | 1d  |
| A8  | Implement role-based authorization middleware  | Create middleware enforcing required roles and granular permissions per endpoint; handle multiple allowed roles; apply zone access guard (deny when params.zoneId mismatches and user is not admin); emit standardized 403 error payloads per architecture; supply shared hasRole/hasPermission helpers for routes. Reference: Arch Blueprint - project-documentation/architecture-output.md – Security, role-based access control. | A7| Authorization middleware; role/permission helper utilities; unit tests | Middleware blocks role, permission, and zone violations; authorized requests succeed; 403 responses match contract | Backend Dev | 0.5d|
| A9  | Implement POST /v1/auth/logout endpoint| Create logout endpoint: invalidate refresh token in database; add access token to Redis blacklist (TTL = token expiry); return success. | A8| Logout endpoint; integration tests | Logout invalidates tokens; subsequent requests fail | Backend Dev | 0.5d|
| G4  | Run CI, request review, merge PR – authentication | Fix any issues; ensure 80%+ test coverage; request review from senior backend + security engineer; address feedback; squash-merge using "feat: implement authentication system".| A9| Merged PR; release notes| CI green; 2+ approvals; coverage ≥80%; branch deleted  | Backend Dev | 0.25d  |

---

## Phase C – Client Management API

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G5  | Create feature branch – client management | Branch `feat/client-management` from `main`; link to issue #3; open draft PR with checklist (schema, CRUD endpoints, tests).| G4| Branch + draft PR| PR open; CI triggered| Backend Dev | 0.1d|
| C1  | Design database schema – clients  | Create migration for `clients` table (id, first_name, last_name, date_of_birth, address, latitude, longitude, phone, emergency_contact_name, emergency_contact_phone, emergency_contact_relationship, zone_id, created_at, updated_at); add indexes on zone_id, last_name. Reference: Arch Blueprint - project-documentation/architecture-output.md – Client Management Endpoints. | G5| Migration file `002_create_clients.sql` | Migration runs; table created; indexes exist| Backend Dev | 0.5d|
| C2  | Design database schema – care plans  | Create migration for `care_plans` table (id, client_id, summary, medications JSONB, allergies JSONB, special_instructions TEXT, version, created_at, updated_at); add foreign key to clients; add index on client_id. Reference: Arch Blueprint - project-documentation/architecture-output.md – GET /v1/clients/:clientId, care plan section.| C1| Migration file `003_create_care_plans.sql` | Migration runs; table created; foreign key works | Backend Dev | 0.5d|
| C3  | Implement GET /v1/clients endpoint| Create endpoint to list clients with pagination (default 50, max 100); support filtering by zone_id and search by name; return client summary with last visit date; implement Redis caching (5 min TTL); require authentication. Reference: Arch Blueprint - project-documentation/architecture-output.md – GET /v1/clients.  | C2| Clients list endpoint; integration tests| Returns paginated clients; filtering works; caching works| Backend Dev | 2d  |
| C4  | Implement GET /v1/clients/:clientId endpoint | Create endpoint to get client details including care plan, emergency contact, recent visits (last 10); implement Redis caching (15 min TTL); require authentication + zone authorization. Reference: Arch Blueprint - project-documentation/architecture-output.md – GET /v1/clients/:clientId.| C3| Client detail endpoint; integration tests  | Returns full client data; 404 for missing; 403 for wrong zone  | Backend Dev | 1.5d|
| C5  | Implement POST /v1/clients endpoint  | Create endpoint to add new client: validate required fields (name, DOB, address); geocode address to lat/long using Google Maps API; assign to zone based on location; create default care plan; require admin role. Reference: Arch Blueprint - project-documentation/architecture-output.md – Client Management. Assumptions: Admin-only for MVP. | C4| Create client endpoint; integration tests  | Creates client successfully; geocoding works; validation works | Backend Dev | 2d  |
| C6  | Implement PATCH /v1/clients/:clientId endpoint | Create endpoint to update client details; support partial updates; invalidate Redis cache on update; log changes to audit trail; require coordinator or admin role. Reference: Arch Blueprint - project-documentation/architecture-output.md – Client Management.  | C5| Update client endpoint; integration tests  | Updates client successfully; cache invalidated; audit logged| Backend Dev | 1.5d|
| C7  | Implement POST /v1/care-plans endpoint | Create endpoint to create/update care plan for client; support versioning (increment version on each update); validate medications and allergies format; require coordinator or admin role. Reference: Arch Blueprint - project-documentation/architecture-output.md – Care Plan Management.| C6| Care plan endpoint; integration tests| Creates/updates care plan; versioning works; validation works  | Backend Dev | 1.5d|
| G6  | Run CI, request review, merge PR – client management | Fix any issues; ensure 80%+ test coverage; request review from senior backend dev; address feedback; squash-merge using "feat: implement client management API".| C7| Merged PR; release notes| CI green; 1+ approval; coverage ≥80%; branch deleted| Backend Dev | 0.25d  |

---

## Phase V – Visit Documentation API

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G7  | Create feature branch – visit documentation | Branch `feat/visit-documentation` from `main`; link to issue #4; open draft PR with checklist (schema, CRUD, sync, tests).| G6| Branch + draft PR | PR open; CI triggered | Backend Dev | 0.1d|
| V1  | Design database schema – visits  | Create migration for `visits` table (id, client_id, staff_id, scheduled_start_time, check_in_time, check_in_latitude, check_in_longitude, check_out_time, check_out_latitude, check_out_longitude, status ENUM, duration_minutes, created_at, updated_at, synced_at); add indexes on client_id, staff_id, status, scheduled_start_time. Reference: Arch Blueprint - project-documentation/architecture-output.md – Visit Documentation Endpoints. | G7| Migration file `004_create_visits.sql`| Migration runs; table created; indexes exist; ENUM works| Backend Dev | 0.5d|
| V2  | Design database schema – visit documentation| Create migration for `visit_documentation` table (id, visit_id, vital_signs JSONB, activities JSONB, observations TEXT, concerns TEXT, copied_from_visit_id, created_at, updated_at); add foreign key to visits; add index on visit_id. Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/visits, documentation structure.  | V1| Migration file `005_create_visit_documentation.sql` | Migration runs; table created; foreign key works| Backend Dev | 0.5d|
| V3  | Design database schema – visit photos  | Create migration for `visit_photos` table (id, visit_id, s3_key, s3_url, thumbnail_s3_key, uploaded_at); add foreign key to visits; add index on visit_id. Reference: Arch Blueprint - project-documentation/architecture-output.md – Photo Management. | V2| Migration file `006_create_visit_photos.sql`| Migration runs; table created; foreign key works| Backend Dev | 0.25d  |
| V4  | Implement POST /v1/visits endpoint  | Create endpoint to start visit: validate client_id, scheduled_start_time; record check-in time and GPS coordinates; create visit record with status 'in_progress'; support smart data reuse (copy from previous visit if copied_from_visit_id provided); require caregiver authentication. Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/visits. | V3| Create visit endpoint; integration tests | Creates visit successfully; GPS recorded; smart reuse works  | Backend Dev | 2d  |
| V5  | Implement PATCH /v1/visits/:visitId endpoint| Create endpoint to update visit: support partial updates to documentation; update check-out time and GPS on completion; calculate duration; change status to 'completed'; require caregiver authentication + ownership check. Reference: Arch Blueprint - project-documentation/architecture-output.md – PATCH /v1/visits/:visitId.  | V4| Update visit endpoint; integration tests | Updates visit successfully; duration calculated; status changes | Backend Dev | 1.5d|
| V6  | Implement GET /v1/visits endpoint| Create endpoint to list visits with filtering (staff_id, client_id, date range, status); support pagination; return visit summaries with client name; implement Redis caching (5 min TTL); require authentication. Reference: Arch Blueprint - project-documentation/architecture-output.md – GET /v1/visits. | V5| List visits endpoint; integration tests  | Returns filtered visits; pagination works; caching works| Backend Dev | 1.5d|
| V7  | Implement GET /v1/visits/:visitId endpoint  | Create endpoint to get visit details including full documentation, photos, client info; require authentication + authorization (caregiver owns visit or coordinator in same zone). Reference: Arch Blueprint - project-documentation/architecture-output.md – Visit Documentation.| V6| Get visit detail endpoint; integration tests| Returns full visit data; 404 for missing; 403 for unauthorized  | Backend Dev | 1d  |
| V8  | Implement photo upload flow  | Create endpoint POST /v1/visits/:visitId/photos/upload-url to generate pre-signed S3 URL; create endpoint POST /v1/visits/:visitId/photos to record photo metadata after upload; implement image compression (max 2MB, 1920px width); generate thumbnails (320px width). Reference: Arch Blueprint - project-documentation/architecture-output.md – Photo Management, S3 pre-signed URLs. | V7| Photo upload endpoints; integration tests| Generates pre-signed URL; records metadata; compression works| Backend Dev | 2d  |
| V9  | Implement signature upload flow  | Create endpoint POST /v1/visits/:visitId/signature/upload-url to generate pre-signed S3 URL for signature; create endpoint POST /v1/visits/:visitId/signature to record signature metadata; validate base64 signature format. Reference: Arch Blueprint - project-documentation/architecture-output.md – Visit Documentation, signature field.  | V8| Signature upload endpoints; integration tests | Generates pre-signed URL; records metadata; validation works | Backend Dev | 1d  |
| G8  | Run CI, request review, merge PR – visit documentation | Fix any issues; ensure 80%+ test coverage; request review from senior backend dev; address feedback; squash-merge using "feat: implement visit documentation API".  | V9| Merged PR; release notes  | CI green; 1+ approval; coverage ≥80%; branch deleted | Backend Dev | 0.25d  |

---

## Phase S – Offline Sync Engine

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G9  | Create feature branch – sync engine | Branch `feat/sync-engine` from `main`; link to issue #5; open draft PR with checklist (batch sync, conflict resolution, audit trail).  | G8| Branch + draft PR| PR open; CI triggered| Backend Dev | 0.1d|
| S1  | Design database schema – sync audit trail| Create migration for `sync_operations` table (id, user_id, device_id, operation_type ENUM, entity_type ENUM, entity_id, payload JSONB, client_timestamp, server_timestamp, conflict_detected BOOLEAN, resolution_strategy, created_at); add indexes on user_id, device_id, entity_type, entity_id. Reference: Arch Blueprint - project-documentation/architecture-output.md – Sync Conflict Resolution Engine. | G9| Migration file `007_create_sync_operations.sql` | Migration runs; table created; indexes exist  | Backend Dev | 0.5d|
| S2  | Implement POST /v1/sync/batch endpoint | Create endpoint to process batch sync operations: accept array of operations (create, update, delete); validate each operation; process in transaction; return success/failure for each operation; implement idempotency using client-generated operation IDs. Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/sync/batch. | S1| Batch sync endpoint; integration tests  | Processes batch successfully; transaction rollback on error; idempotency works  | Backend Dev | 2.5d|
| S3  | Implement conflict detection logic  | Create conflict detection: compare client_timestamp with server's last_updated_at; detect conflicts when client_timestamp < server's last_updated_at; log conflicts to sync_operations table; apply last-write-wins strategy (most recent timestamp wins). Reference: Arch Blueprint - project-documentation/architecture-output.md – Sync Conflict Resolution, last-write-wins.| S2| Conflict detection module; unit tests| Detects conflicts correctly; last-write-wins applied; conflicts logged  | Backend Dev | 2d  |
| S4  | Implement GET /v1/sync/changes endpoint| Create endpoint to fetch changes since last sync: accept last_sync_timestamp; return all entities modified after timestamp; support entity filtering (visits, clients, care_plans); implement pagination for large change sets; return deleted entities separately. Reference: Arch Blueprint - project-documentation/architecture-output.md – Sync Engine, delta sync. | S3| Sync changes endpoint; integration tests| Returns changes since timestamp; pagination works; deleted entities included | Backend Dev | 2d  |
| S5  | Implement sync status tracking | Add sync_status field to visits table (pending, syncing, synced, conflict); create endpoint GET /v1/sync/status to check sync status; update sync_status after successful sync; implement retry logic for failed syncs (exponential backoff). Reference: Arch Blueprint - project-documentation/architecture-output.md – Background Sync Engine.  | S4| Sync status tracking; integration tests | Sync status updates correctly; retry logic works; status endpoint returns accurate data | Backend Dev | 1.5d|
| S6  | Implement audit trail queries  | Create endpoint GET /v1/sync/audit to query sync operations: filter by user, device, entity, date range; support pagination; require admin role. Reference: Arch Blueprint - project-documentation/architecture-output.md – Comprehensive audit trail.  | S5| Audit trail endpoint; integration tests | Returns audit logs; filtering works; admin-only access| Backend Dev | 1d  |
| G10 | Run CI, request review, merge PR – sync engine | Fix any issues; ensure 80%+ test coverage; request review from senior backend dev + architect; address feedback; squash-merge using "feat: implement offline sync engine". | S6| Merged PR; release notes  | CI green; 2+ approvals; coverage ≥80%; branch deleted | Backend Dev | 0.25d  |

---

## Phase T – Twilio Integration (Voice & SMS)

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G11 | Create feature branch – twilio integration | Branch `feat/twilio-integration` from `main`; link to issue #6; open draft PR with checklist (voice alerts, SMS, webhooks).| G10  | Branch + draft PR| PR open; CI triggered  | Backend Dev | 0.1d|
| T1  | Design database schema – care coordination | Create migration for `care_alerts` table (id, client_id, staff_id, coordinator_id, alert_type ENUM, voice_message_url, status ENUM, initiated_at, answered_at, escalated_at, resolved_at, outcome TEXT); create `coordinators` table (id, user_id, zone_id, phone_number, backup_coordinator_id); add indexes. Reference: Arch Blueprint - project-documentation/architecture-output.md – Voice Alert Service. | G11  | Migration files `008_create_care_alerts.sql`, `009_create_coordinators.sql` | Migrations run; tables created; indexes exist| Backend Dev | 0.5d|
| T2  | Implement Twilio Voice client| Create Twilio Voice service module: initialize Twilio client with credentials from AWS Secrets Manager; implement `initiateCall(to, voiceMessageUrl)` function; implement webhook handlers for call status (answered, no-answer, completed); log all call events. Reference: Arch Blueprint - project-documentation/architecture-output.md – Twilio Voice API. | T1| Twilio Voice service module; unit tests| Initiates call successfully; webhooks receive events; events logged | Backend Dev | 2d  |
| T3  | Implement POST /v1/alerts/voice endpoint| Create endpoint to send voice alert: validate client_id; identify coordinator for client's zone; record voice message (S3 URL from mobile app); initiate Twilio call to coordinator; play voice message when answered; create alert record with status 'initiated'; require caregiver authentication. Reference: Arch Blueprint - project-documentation/architecture-output.md – Care Coordination Flow. | T2| Voice alert endpoint; integration tests| Sends alert successfully; call initiated; alert recorded | Backend Dev | 2d  |
| T4  | Implement voice alert escalation logic| Create background job (cron every 1 minute): check alerts with status 'initiated' and no answer after 5 minutes; send SMS to coordinator with alert details; escalate to backup coordinator after 10 minutes; update alert status to 'escalated'; notify caregiver of escalation. Reference: Arch Blueprint - project-documentation/architecture-output.md – Voice Alert Service, escalation.  | T3| Escalation job; unit tests  | Escalates after 5 min; SMS sent; backup coordinator called; caregiver notified | Backend Dev | 2d  |
| T5  | Implement Twilio SMS client | Create Twilio SMS service module: initialize Twilio client; implement `sendSMS(to, message)` function; implement webhook handlers for delivery status; log all SMS events; implement rate limiting (100 SMS per hour per user). Reference: Arch Blueprint - project-documentation/architecture-output.md – Twilio SMS API. | T4| Twilio SMS service module; unit tests| Sends SMS successfully; webhooks receive events; rate limiting works| Backend Dev | 1.5d|
| T6  | Implement alert resolution tracking| Create endpoint PATCH /v1/alerts/:alertId to update alert outcome: record resolution details; update status to 'resolved'; notify caregiver of resolution; require coordinator authentication. Reference: Arch Blueprint - project-documentation/architecture-output.md – Care Coordination Flow, outcome documentation.| T5| Alert resolution endpoint; integration tests | Updates alert successfully; caregiver notified; coordinator-only access| Backend Dev | 1d  |
| G12 | Run CI, request review, merge PR – twilio integration | Fix any issues; ensure 80%+ test coverage; request review from senior backend dev; address feedback; squash-merge using "feat: implement Twilio voice and SMS integration".| T6| Merged PR; release notes | CI green; 1+ approval; coverage ≥80%; branch deleted | Backend Dev | 0.25d  |

---

## Phase F – Family Portal (SMS-First)

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G13 | Create feature branch – family portal | Branch `feat/family-portal` from `main`; link to issue #7; open draft PR with checklist (daily messages, reply processing, callback handling). | G12  | Branch + draft PR| PR open; CI triggered | Backend Dev | 0.1d|
| F1  | Design database schema – family contacts | Create migration for `family_contacts` table (id, client_id, name, relationship, phone_number, preferred_contact_time, opt_in_daily_updates BOOLEAN, opt_in_alerts BOOLEAN, created_at, updated_at); add index on client_id, phone_number. Reference: Arch Blueprint - project-documentation/architecture-output.md – Family Portal Flow.  | G13  | Migration file `010_create_family_contacts.sql` | Migration runs; table created; indexes exist| Backend Dev | 0.25d  |
| F2  | Design database schema – family messages | Create migration for `family_messages` table (id, family_contact_id, message_type ENUM, message_text TEXT, sent_at, delivered_at, reply_text TEXT, replied_at, status ENUM); add indexes on family_contact_id, sent_at. Reference: Arch Blueprint - project-documentation/architecture-output.md – Family SMS Service. | F1| Migration file `011_create_family_messages.sql` | Migration runs; table created; indexes exist| Backend Dev | 0.25d  |
| F3  | Implement daily message generation | Create background job (cron daily at 6 PM): query all completed visits for the day; group by client; generate personalized message for each family contact (opt-in only); include visit summary, activities performed, observations; queue messages for sending. Reference: Arch Blueprint - project-documentation/architecture-output.md – Family Portal Flow, daily 6 PM messages. Assumptions: Message template with variables.| F2| Daily message job; unit tests| Generates messages correctly; personalization works; opt-in respected | Backend Dev | 2d  |
| F4  | Implement daily message sending  | Create message sending service: batch send queued messages via Twilio SMS; track delivery status; retry failed messages (max 3 attempts); log all sends to family_messages table; implement rate limiting (1000 SMS per hour). Reference: Arch Blueprint - project-documentation/architecture-output.md – Family SMS Service, batch send.  | F3| Message sending service; integration tests| Sends messages successfully; delivery tracked; retries work| Backend Dev | 1.5d|
| F5  | Implement SMS reply processing| Create webhook endpoint POST /v1/family/sms/reply to receive Twilio SMS webhooks; parse reply text for keywords (CALL, DETAILS, PLAN, STOP); route to appropriate handler; log reply to family_messages table. Reference: Arch Blueprint - project-documentation/architecture-output.md – Family Portal Flow, reply keyword processing. | F4| SMS reply webhook; integration tests | Receives webhooks; parses keywords; routes correctly  | Backend Dev | 1.5d|
| F6  | Implement reply keyword handlers | Create handlers for each keyword: CALL (create callback task for coordinator), DETAILS (send expanded visit details), PLAN (send care plan summary), STOP (opt-out from messages); respond within 30 seconds; log all interactions. Reference: Arch Blueprint - project-documentation/architecture-output.md – Family Portal Flow, reply keywords. | F5| Keyword handlers; unit tests | Handlers respond correctly; timing <30s; opt-out works| Backend Dev | 2d  |
| F7  | Implement callback request management | Create endpoint POST /v1/family/callback-requests to create callback task; assign to client's coordinator; send notification to coordinator; create endpoint GET /v1/family/callback-requests for coordinators to view pending requests; create endpoint PATCH /v1/family/callback-requests/:id to mark as completed. Reference: Arch Blueprint - project-documentation/architecture-output.md – Family Portal Flow, callback request handling. | F6| Callback request endpoints; integration tests| Creates requests; coordinator notified; completion tracking works  | Backend Dev | 1.5d|
| G14 | Run CI, request review, merge PR – family portal | Fix any issues; ensure 80%+ test coverage; request review from senior backend dev; address feedback; squash-merge using "feat: implement family portal SMS system".  | F7| Merged PR; release notes  | CI green; 1+ approval; coverage ≥80%; branch deleted  | Backend Dev | 0.25d  |

---

## Phase M – Mobile App Foundation (React Native)

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G15 | Create feature branch – mobile foundation | Branch `feat/mobile-foundation` from `main`; link to issue #8; open draft PR with checklist (Expo setup, navigation, state management). | E3| Branch + draft PR| PR open; CI triggered  | Frontend Dev | 0.1d|
| M1  | Initialize React Native app with Expo| Create Expo app in `/apps/mobile` using Expo SDK 50+; configure TypeScript; set up folder structure (/src/screens, /src/components, /src/services, /src/store, /src/utils); configure app.json (name, slug, version, orientation portrait-only). Reference: Arch Blueprint - project-documentation/architecture-output.md – Mobile Application, React Native 0.73+ with Expo SDK 50+.  | G15  | Expo app scaffold; app.json config  | `npx expo start` launches app; TypeScript compiles; folder structure exists | Frontend Dev | 1d  |
| M2  | Configure navigation  | Install and configure React Navigation 6.x; set up stack navigator for auth flow (Login, Register) and main app flow (Home, ClientList, ClientDetail, VisitDocumentation); implement deep linking support; configure screen options (headers, gestures). Reference: Arch Blueprint - project-documentation/architecture-output.md – Mobile App Layer.| M1| Navigation setup; navigation types  | Navigation works; deep links work; TypeScript types correct | Frontend Dev | 1.5d|
| M3  | Configure state management | Install and configure Zustand for global state; create stores for auth (user, tokens), clients (list, selected), visits (list, current); install and configure React Query for server state management (caching, refetching); configure query client with offline support. Reference: Arch Blueprint - project-documentation/architecture-output.md – State Management, Zustand + React Query. | M2| State management setup; store types | Stores work; React Query caches; TypeScript types correct| Frontend Dev | 1.5d|
| M4  | Configure local database| Install and configure WatermelonDB with SQLite adapter; create database schema matching server schema (users, clients, care_plans, visits, visit_documentation, visit_photos); configure migrations; implement database initialization on app launch. Reference: Arch Blueprint - project-documentation/architecture-output.md – Local-First Data Layer, WatermelonDB/SQLite.  | M3| WatermelonDB setup; schema definitions | Database initializes; schema created; queries work| Frontend Dev | 2d  |
| M5  | Implement API client  | Create Axios-based API client with base URL configuration (environment-specific); implement request interceptor to add JWT token; implement response interceptor to handle 401 (refresh token) and errors; configure timeout (30 seconds); implement retry logic (exponential backoff). Reference: Arch Blueprint - project-documentation/architecture-output.md – API Gateway.| M4| API client module; TypeScript types | API calls work; auth interceptor works; retry logic works| Frontend Dev | 1.5d|
| M6  | Configure design system foundation| Install and configure design tokens (colors, spacing, typography) from design documentation; create theme provider; implement base components (Button, Input, Card, Text); configure fonts (system fonts for performance); implement responsive sizing utilities. Reference: Design Documentation – Design System. | M5| Design system setup; base components| Components render correctly; theme works; responsive sizing works| Frontend Dev | 2d  |
| M7  | Configure offline detection| Implement network status detection using @react-native-community/netinfo; create hook `useNetworkStatus()` to expose online/offline state; display offline indicator in app header; configure React Query to pause queries when offline. Reference: Arch Blueprint - project-documentation/architecture-output.md – Offline-First Everything.  | M6| Network status hook; offline indicator | Detects online/offline correctly; indicator shows; queries pause offline | Frontend Dev | 1d  |
| G16 | Run CI, request review, merge PR – mobile foundation | Fix any ESLint/TypeScript errors; ensure app builds for iOS and Android; request review from senior frontend dev; address feedback; squash-merge using "feat: initialize mobile app foundation".| M7| Merged PR; release notes | CI green; builds succeed; 1+ approval; branch deleted | Frontend Dev | 0.25d  |

---

## Phase MA – Mobile Authentication

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G17 | Create feature branch – mobile auth | Branch `feat/mobile-auth` from `main`; link to issue #9; open draft PR with checklist (login, token management, secure storage).| G16  | Branch + draft PR| PR open; CI triggered| Frontend Dev | 0.1d|
| MA1 | Implement secure token storage | Install and configure expo-secure-store for secure token storage; create token storage service with methods: `saveTokens()`, `getTokens()`, `clearTokens()`; implement biometric authentication option (Face ID/Touch ID) for token access. Reference: Arch Blueprint - project-documentation/architecture-output.md – Authentication, JWT tokens. | G17  | Token storage service; unit tests | Tokens stored securely; biometric auth works; retrieval works  | Frontend Dev | 1.5d|
| MA2 | Implement login screen UI| Create login screen with email and password inputs; implement form validation (email format, password min length); add "Remember me" toggle; add "Forgot password" link (placeholder); implement loading state; follow design system guidelines. Reference: Design Documentation – Authentication/Onboarding. | MA1  | Login screen component | Screen renders correctly; validation works; follows design system | Frontend Dev | 1.5d|
| MA3 | Implement login logic| Create login service: call POST /v1/auth/login API; save tokens to secure storage; save user profile to Zustand store; navigate to home screen on success; display error messages on failure; implement device ID generation (UUID). Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/auth/login. | MA2  | Login service; integration tests  | Login succeeds; tokens saved; navigation works; errors displayed  | Frontend Dev | 1.5d|
| MA4 | Implement token refresh logic  | Create token refresh service: detect 401 responses; call POST /v1/auth/refresh API; update tokens in secure storage; retry original request; logout if refresh fails; implement refresh token expiry check on app launch. Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/auth/refresh.  | MA3  | Token refresh service; unit tests | Refresh works on 401; retries original request; logout on failure | Frontend Dev | 2d  |
| MA5 | Implement logout logic| Create logout service: call POST /v1/auth/logout API; clear tokens from secure storage; clear user from Zustand store; clear local database (optional); navigate to login screen. Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/auth/logout. | MA4  | Logout service; integration tests | Logout succeeds; tokens cleared; navigation works | Frontend Dev | 1d  |
| MA6 | Implement auth persistence  | Implement auto-login on app launch: check for valid tokens in secure storage; validate token expiry; refresh if needed; load user profile; navigate to home screen if authenticated, login screen if not. Reference: Arch Blueprint - project-documentation/architecture-output.md – Authentication.  | MA5  | Auth persistence logic; integration tests | Auto-login works; token validation works; navigation correct| Frontend Dev | 1.5d|
| G18 | Run CI, request review, merge PR – mobile auth | Fix any issues; ensure app builds; test on iOS and Android; request review from senior frontend dev; address feedback; squash-merge using "feat: implement mobile authentication".| MA6  | Merged PR; release notes  | CI green; builds succeed; 1+ approval; branch deleted  | Frontend Dev | 0.25d  |

---

## Phase MC – Mobile Client Management

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G19 | Create feature branch – mobile clients | Branch `feat/mobile-clients` from `main`; link to issue #10; open draft PR with checklist (client list, detail, local storage).  | G18  | Branch + draft PR  | PR open; CI triggered | Frontend Dev | 0.1d|
| MC1 | Implement client list screen UI| Create client list screen with search bar, filter by zone, pull-to-refresh; display client cards (name, address, last visit date, next scheduled visit); implement infinite scroll pagination; add floating action button for new visit; follow design system guidelines. Reference: Design Documentation – Client List.| G19  | Client list screen component  | Screen renders correctly; search works; pagination works; follows design | Frontend Dev | 2d  |
| MC2 | Implement client list data fetching | Create client list service: fetch from local WatermelonDB first (instant display); fetch from API in background; sync to local database; implement search and filtering locally; implement pagination (50 per page). Reference: Arch Blueprint - project-documentation/architecture-output.md – GET /v1/clients, Offline-First. | MC1  | Client list service; integration tests| Displays local data instantly; syncs from API; search/filter work| Frontend Dev | 2d  |
| MC3 | Implement client detail screen UI | Create client detail screen with tabs (Profile, Care Plan, Recent Visits); display client info, emergency contact, care plan summary, medications, allergies, special instructions; display recent visits list; add "Start Visit" button; follow design system guidelines. Reference: Design Documentation – Client Detail.  | MC2  | Client detail screen component| Screen renders correctly; tabs work; follows design system | Frontend Dev | 2d  |
| MC4 | Implement client detail data fetching  | Create client detail service: fetch from local WatermelonDB first; fetch from API in background; sync to local database; implement care plan versioning; cache for 15 minutes. Reference: Arch Blueprint - project-documentation/architecture-output.md – GET /v1/clients/:clientId, Offline-First.| MC3  | Client detail service; integration tests | Displays local data instantly; syncs from API; caching works  | Frontend Dev | 1.5d|
| MC5 | Implement client search | Implement local search using WatermelonDB queries: search by first name, last name, address; implement fuzzy matching; display search results instantly; highlight matching text. Reference: Arch Blueprint - project-documentation/architecture-output.md – Offline-First, instant local operations. | MC4  | Search functionality; unit tests | Search works instantly; fuzzy matching works; highlighting works | Frontend Dev | 1.5d|
| G20 | Run CI, request review, merge PR – mobile clients | Fix any issues; ensure app builds; test on iOS and Android; request review from senior frontend dev; address feedback; squash-merge using "feat: implement mobile client management". | MC5  | Merged PR; release notes | CI green; builds succeed; 1+ approval; branch deleted | Frontend Dev | 0.25d  |

---

## Phase MV – Mobile Visit Documentation

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G21 | Create feature branch – mobile visits | Branch `feat/mobile-visits` from `main`; link to issue #11; open draft PR with checklist (visit flow, auto-save, GPS, photos). | G20  | Branch + draft PR  | PR open; CI triggered  | Frontend Dev | 0.1d|
| MV1 | Implement GPS auto-check-in| Install and configure expo-location for GPS access; request location permissions on app launch; implement GPS service: `getCurrentLocation()`, `startLocationTracking()`, `stopLocationTracking()`; implement geofencing to detect arrival at client location (within 100m); auto-trigger check-in when arrived. Reference: Arch Blueprint - project-documentation/architecture-output.md – GPS auto-check-in/out. | G21  | GPS service; location permissions | GPS works; permissions requested; geofencing detects arrival| Frontend Dev | 2d  |
| MV2 | Implement visit start flow | Create "Start Visit" screen: display client info, scheduled time, current time; capture GPS coordinates on check-in; create visit record in local WatermelonDB; set status to 'in_progress'; implement smart data reuse (pre-fill from last visit); navigate to documentation screen. Reference: Arch Blueprint - project-documentation/architecture-output.md – Visit Documentation Flow, smart data reuse. | MV1  | Visit start screen; visit start service| Creates visit locally; GPS captured; smart reuse works; navigation works | Frontend Dev | 2d  |
| MV3 | Implement visit documentation screen UI  | Create documentation screen with sections: Vital Signs (BP, HR, temp, O2 sat), Activities (checkboxes), Observations (text area), Concerns (text area); implement large touch targets (min 44x44pt); implement voice input button for observations/concerns; follow design system guidelines. Reference: Design Documentation – Visit Documentation.  | MV2  | Documentation screen component | Screen renders correctly; touch targets large; voice button visible | Frontend Dev | 2.5d|
| MV4 | Implement auto-save logic  | Implement auto-save service: debounce field changes (1 second); save to local WatermelonDB on debounce; save on field blur; save on screen navigation; save on app backgrounding; display "Saving..." indicator briefly; never block user input. Reference: Arch Blueprint - project-documentation/architecture-output.md – Auto-Save over Manual Save, multiple save triggers.  | MV3  | Auto-save service; unit tests| Auto-saves after 1s; saves on blur/navigation/background; never blocks| Frontend Dev | 2d  |
| MV5 | Implement voice input  | Install and configure expo-speech for voice recognition; implement voice recording for observations and concerns; display recording indicator; transcribe speech to text; append to text field; implement error handling (no permission, no speech detected). Reference: Arch Blueprint - project-documentation/architecture-output.md – Voice input integration, 3× faster than typing. | MV4  | Voice input service; integration tests | Records voice; transcribes correctly; appends to field; errors handled| Frontend Dev | 2.5d|
| MV6 | Implement photo capture| Install and configure expo-camera for photo capture; implement photo capture flow: request camera permission, open camera, capture photo, compress to max 2MB, save to local storage, upload to S3 (background), display thumbnail in visit; support multiple photos per visit. Reference: Arch Blueprint - project-documentation/architecture-output.md – Photo Management.| MV5  | Photo capture service; integration tests  | Captures photo; compresses; uploads; thumbnail displays  | Frontend Dev | 2.5d|
| MV7 | Implement signature capture| Install and configure react-native-signature-canvas for signature capture; implement signature capture flow: display signature pad, capture signature, convert to base64, save to local storage, upload to S3 (background), display in visit. Reference: Arch Blueprint - project-documentation/architecture-output.md – Signature upload flow. | MV6  | Signature capture service; integration tests | Captures signature; converts to base64; uploads; displays| Frontend Dev | 1.5d|
| MV8 | Implement visit completion flow  | Create "Complete Visit" screen: display visit summary, duration, activities performed; capture GPS coordinates on check-out; calculate duration; set status to 'completed'; save to local WatermelonDB; queue for background sync; navigate to client list. Reference: Arch Blueprint - project-documentation/architecture-output.md – Visit Documentation Flow.| MV7  | Visit completion screen; completion service  | Completes visit locally; GPS captured; duration calculated; queued for sync | Frontend Dev | 1.5d|
| MV9 | Implement visit list screen| Create visit list screen: display today's visits, upcoming visits, completed visits; filter by status; display visit cards (client name, time, status, duration); implement pull-to-refresh; add sync status indicator; follow design system guidelines. Reference: Design Documentation – Visit List.| MV8  | Visit list screen component  | Screen renders correctly; filtering works; sync status visible| Frontend Dev | 1.5d|
| G22 | Run CI, request review, merge PR – mobile visits | Fix any issues; ensure app builds; test on iOS and Android; test offline functionality; request review from senior frontend dev; address feedback; squash-merge using "feat: implement mobile visit documentation". | MV9  | Merged PR; release notes  | CI green; builds succeed; offline works; 1+ approval; branch deleted| Frontend Dev | 0.25d  |

---

## Phase MS – Mobile Sync Engine

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G23 | Create feature branch – mobile sync | Branch `feat/mobile-sync` from `main`; link to issue #12; open draft PR with checklist (background sync, conflict resolution, sync status). | G22  | Branch + draft PR| PR open; CI triggered  | Frontend Dev | 0.1d|
| MS1 | Implement sync queue | Create sync queue service: queue all local changes (create, update, delete) for sync; store queue in WatermelonDB; implement priority (high for visits, normal for others); implement retry logic (exponential backoff, max 5 retries); persist queue across app restarts. Reference: Arch Blueprint - project-documentation/architecture-output.md – Background Sync Engine.| G23  | Sync queue service; unit tests  | Queues changes; persists across restarts; retry logic works  | Frontend Dev | 2d  |
| MS2 | Implement background sync service| Create background sync service: detect network connectivity; process sync queue when online; batch operations (max 50 per batch); call POST /v1/sync/batch API; update local records with server IDs; remove from queue on success; implement sync interval (every 30 seconds when online). Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/sync/batch, Background Sync Engine. | MS1  | Background sync service; integration tests| Syncs when online; batches operations; updates local records; interval works| Frontend Dev | 2.5d|
| MS3 | Implement conflict resolution  | Implement conflict resolution: detect conflicts from API response; apply last-write-wins strategy; update local record with server version; log conflicts to local database; display conflict notification to user (optional review). Reference: Arch Blueprint - project-documentation/architecture-output.md – Sync Conflict Resolution, last-write-wins. | MS2  | Conflict resolution service; unit tests | Detects conflicts; applies last-write-wins; logs conflicts; notifies user| Frontend Dev | 2d  |
| MS4 | Implement delta sync | Implement delta sync service: track last_sync_timestamp in local storage; call GET /v1/sync/changes with timestamp; fetch only changed entities since last sync; update local database with changes; handle deleted entities; update last_sync_timestamp. Reference: Arch Blueprint - project-documentation/architecture-output.md – GET /v1/sync/changes, delta sync. | MS3  | Delta sync service; integration tests| Fetches only changes; updates local DB; handles deletes; timestamp updates  | Frontend Dev | 2d  |
| MS5 | Implement sync status UI | Create sync status indicator: display in app header (synced, syncing, offline, error); show sync progress (X of Y items); display last sync time; add manual sync button (pull-to-refresh); display sync errors with retry option. Reference: Arch Blueprint - project-documentation/architecture-output.md – Background Sync, invisible sync.| MS4  | Sync status component; integration tests| Status displays correctly; progress shows; manual sync works; errors displayed | Frontend Dev | 1.5d|
| MS6 | Implement background task registration | Install and configure expo-task-manager and expo-background-fetch for background sync; register background task to run sync every 15 minutes (iOS) or when network available (Android); implement battery optimization handling. Reference: Arch Blueprint - project-documentation/architecture-output.md – Background Sync Engine.  | MS5  | Background task registration; integration tests | Background sync runs; battery optimized; works on iOS and Android| Frontend Dev | 2d  |
| G24 | Run CI, request review, merge PR – mobile sync | Fix any issues; ensure app builds; test offline-to-online sync; test conflict resolution; request review from senior frontend dev + architect; address feedback; squash-merge using "feat: implement mobile sync engine". | MS6  | Merged PR; release notes  | CI green; builds succeed; sync works; conflicts resolved; 2+ approvals; branch deleted | Frontend Dev | 0.25d  |

---

## Phase MA2 – Mobile Care Coordination

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G25| Create feature branch – mobile alerts | Branch `feat/mobile-alerts` from `main`; link to issue #13; open draft PR with checklist (voice alerts, push notifications).  | G24| Branch + draft PR| PR open; CI triggered  | Frontend Dev | 0.1d|
| MA2_1 | Implement floating alert button  | Create floating action button (FAB) for alerts: always visible on visit documentation screen; prominent red color; icon: phone with alert; tap to open alert modal; follow design system guidelines. Reference: Arch Blueprint - project-documentation/architecture-output.md – Care Coordination Flow, floating alert button. | G25| Alert FAB component  | FAB renders correctly; always visible; tap opens modal; follows design | Frontend Dev | 1d  |
| MA2_2 | Implement voice message recording| Install and configure expo-av for audio recording; create alert modal: display client info, record button, stop button, playback button, send button; implement voice recording (max 60 seconds); save recording to local storage; display waveform visualization; implement playback. Reference: Arch Blueprint - project-documentation/architecture-output.md – Care Coordination Flow, voice message. | MA2_1 | Voice recording service; alert modal | Records voice; saves locally; playback works; waveform displays  | Frontend Dev | 2.5d|
| MA2_3 | Implement alert sending| Create alert sending service: upload voice recording to S3; call POST /v1/alerts/voice API with client_id and voice_message_url; display sending indicator; display success confirmation; display error if fails (queue for retry); close modal on success. Reference: Arch Blueprint - project-documentation/architecture-output.md – POST /v1/alerts/voice.  | MA2_2 | Alert sending service; integration tests| Uploads recording; sends alert; success/error displayed; retry queued  | Frontend Dev | 2d  |
| MA2_4 | Implement push notification setup| Install and configure expo-notifications for push notifications; request notification permissions on app launch; register device token with backend; implement notification handler (foreground and background); display notification badge on app icon. Reference: Arch Blueprint - project-documentation/architecture-output.md – Expo Push Notifications.| MA2_3 | Push notification setup; integration tests | Permissions requested; token registered; notifications received  | Frontend Dev | 1.5d|
| MA2_5 | Implement alert status tracking  | Create alert status screen: display sent alerts, status (initiated, answered, escalated, resolved), timestamp, outcome; implement pull-to-refresh; display push notification when alert resolved; navigate to alert detail on notification tap. Reference: Arch Blueprint - project-documentation/architecture-output.md – Alert resolution tracking. | MA2_4 | Alert status screen; integration tests  | Displays alerts; status updates; notifications work; navigation works  | Frontend Dev | 1.5d|
| G26| Run CI, request review, merge PR – mobile alerts | Fix any issues; ensure app builds; test voice recording and sending; test push notifications; request review from senior frontend dev; address feedback; squash-merge using "feat: implement mobile care coordination alerts".  | MA2_5 | Merged PR; release notes| CI green; builds succeed; alerts work; notifications work; 1+ approval; branch deleted | Frontend Dev | 0.25d  |

---

## Phase P – Performance Optimization

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G27 | Create feature branch – performance | Branch `feat/performance-optimization` from `main`; link to issue #14; open draft PR with checklist (app launch, UI response, sync performance). | G26  | Branch + draft PR  | PR open; CI triggered| Frontend Dev | 0.1d|
| P1  | Optimize app launch time | Implement lazy loading for screens; defer non-critical initialization (analytics, crash reporting); optimize font loading; implement splash screen with progress indicator; measure launch time (target <2 seconds). Reference: Arch Blueprint - project-documentation/architecture-output.md – Obsessive Performance, <2 second app launch. | G27  | Launch optimization; performance tests | Launch time <2s on mid-range devices; splash screen displays | Frontend Dev | 2d  |
| P2  | Optimize UI response time| Implement React.memo for expensive components; optimize FlatList rendering (getItemLayout, removeClippedSubviews); debounce search input; implement skeleton loaders; measure UI response time (target <100ms). Reference: Arch Blueprint - project-documentation/architecture-output.md – Obsessive Performance, <100ms UI response time.| P1| UI optimization; performance tests| UI response <100ms; no jank; smooth scrolling | Frontend Dev | 2d  |
| P3  | Optimize database queries| Add indexes to frequently queried fields in WatermelonDB; implement query result caching; optimize joins; implement pagination for large result sets; measure query time (target <10ms). Reference: Arch Blueprint - project-documentation/architecture-output.md – Local-First Data Layer, <10ms reads/writes.| P2| Database optimization; performance tests  | Query time <10ms; pagination works; caching effective | Frontend Dev | 1.5d|
| P4  | Optimize image loading| Implement progressive image loading; implement image caching (react-native-fast-image); compress images before upload (max 2MB, 1920px width); generate and use thumbnails for lists; implement lazy loading for images. Reference: Arch Blueprint - project-documentation/architecture-output.md – Photo Management.  | P3| Image optimization; performance tests| Images load progressively; caching works; compression effective | Frontend Dev | 2d  |
| P5  | Optimize sync performance| Implement batch sync (max 50 operations); compress sync payloads (gzip); implement delta sync (only changed fields); optimize sync interval (30 seconds when active, 15 minutes in background); measure sync time (target <30 seconds). Reference: Arch Blueprint - project-documentation/architecture-output.md – Background Sync Engine, <30 second background sync. | P4| Sync optimization; performance tests | Sync time <30s; batching works; compression effective | Frontend Dev | 2d  |
| P6  | Implement performance monitoring | Install and configure Sentry Performance Monitoring; track key metrics (app launch time, screen load time, API response time, database query time); set up performance alerts (launch time >3s, API response >2s); create performance dashboard. Reference: Arch Blueprint - project-documentation/architecture-output.md – Monitoring & Observability.| P5| Performance monitoring setup; dashboard| Metrics tracked; alerts configured; dashboard shows data  | Frontend Dev | 1d  |
| G28 | Run CI, request review, merge PR – performance | Fix any issues; ensure app builds; run performance tests; verify all targets met; request review from senior frontend dev + architect; address feedback; squash-merge using "perf: optimize app performance".| P6| Merged PR; release notes; performance report | CI green; builds succeed; performance targets met; 2+ approvals; branch deleted | Frontend Dev | 0.25d  |

---

## Phase SEC – Security Hardening

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G29  | Create feature branch – security hardening | Branch `feat/security-hardening` from `main`; link to issue #15; open draft PR with checklist (encryption, PIPEDA compliance, security audit). | G28  | Branch + draft PR | PR open; CI triggered  | Security Eng | 0.1d|
| SEC1 | Implement end-to-end encryption for sensitive data | Implement encryption for sensitive fields (care plan, observations, concerns) using AES-256; generate encryption keys per user; store keys in AWS KMS; encrypt before saving to database; decrypt on retrieval; implement key rotation. Reference: Arch Blueprint - project-documentation/architecture-output.md – Uncompromising Security, end-to-end encryption.| G29  | Encryption service; unit tests| Encrypts sensitive data; decrypts correctly; key rotation works  | Security Eng | 3d  |
| SEC2 | Implement PIPEDA compliance measures  | Document data collection, use, and retention policies; implement data minimization (collect only necessary data); implement consent tracking; implement data access controls; implement data deletion (right to be forgotten); create privacy policy. Reference: Arch Blueprint - project-documentation/architecture-output.md – Canadian data residency, PIPEDA compliant.  | SEC1 | PIPEDA compliance docs; data deletion endpoint| Policies documented; consent tracked; deletion works; privacy policy exists | Security Eng | 2d  |
| SEC3 | Implement comprehensive audit trail| Enhance audit logging: log all data access (who, what, when); log all data modifications (before/after values); log all authentication events; log all API calls; implement tamper-proof audit log (append-only); create audit log query endpoint (admin-only). Reference: Arch Blueprint - project-documentation/architecture-output.md – Comprehensive audit trails.  | SEC2 | Audit logging service; audit query endpoint| All events logged; tamper-proof; query endpoint works | Security Eng | 2.5d|
| SEC4 | Implement rate limiting and DDoS protection| Enhance rate limiting: implement per-user rate limits (100 req/min); implement per-IP rate limits (1000 req/min); implement endpoint-specific limits (login 10/hour, register 5/hour); configure AWS WAF for DDoS protection; implement CAPTCHA for sensitive endpoints. Reference: Arch Blueprint - project-documentation/architecture-output.md – API Gateway, rate limiting. | SEC3 | Rate limiting enhancements; WAF config| Rate limits enforced; WAF blocks attacks; CAPTCHA works  | Security Eng | 2d  |
| SEC5 | Implement security headers and HTTPS enforcement| Configure security headers (Helmet.js): HSTS, CSP, X-Frame-Options, X-Content-Type-Options; enforce HTTPS (redirect HTTP to HTTPS); implement certificate pinning in mobile app; configure CORS properly (whitelist only). Reference: Arch Blueprint - project-documentation/architecture-output.md – Security, Helmet.js. | SEC4 | Security headers config; cert pinning | Headers set correctly; HTTPS enforced; cert pinning works| Security Eng | 1d  |
| SEC6 | Conduct security audit and penetration testing| Run SAST (Snyk, SonarCloud) on all code; run DAST (OWASP ZAP) on API endpoints; run dependency audit (npm audit, Snyk); conduct manual penetration testing (SQL injection, XSS, CSRF, auth bypass); document findings; fix critical and high severity issues. Reference: Arch Blueprint - project-documentation/architecture-output.md – Security & Compliance. | SEC5 | Security audit report; fixes for critical issues | SAST/DAST run; pen test complete; critical issues fixed  | Security Eng | 3d  |
| SEC7 | Implement secret management | Migrate all secrets to AWS Secrets Manager; remove hardcoded secrets from code; implement secret rotation (database passwords, API keys); configure IAM roles for secret access; document secret management procedures. Reference: Arch Blueprint - project-documentation/architecture-output.md – DevEx & Reliability, secrets via vault/SSM.| SEC6 | Secret management setup; documentation| Secrets in Secrets Manager; rotation works; IAM roles configured | Security Eng | 1.5d|
| G30  | Run CI, request review, merge PR – security hardening | Fix any remaining security issues; ensure all security tests pass; request review from senior security engineer + architect; address feedback; squash-merge using "security: implement security hardening measures".  | SEC7 | Merged PR; release notes; security audit report  | CI green; security tests pass; 2+ approvals; branch deleted | Security Eng | 0.25d  |

---

## Phase TEST – Testing & Quality Assurance

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G31| Create feature branch – testing | Branch `feat/comprehensive-testing` from `main`; link to issue #16; open draft PR with checklist (E2E tests, integration tests, load tests).| G30| Branch + draft PR | PR open; CI triggered  | QA Eng | 0.1d|
| TEST1 | Set up E2E testing framework | Install and configure Detox for React Native E2E testing; configure test environment (iOS simulator, Android emulator); create test utilities (login helper, navigation helper); configure CI to run E2E tests on PRs. Reference: Arch Blueprint - project-documentation/architecture-output.md – Testing gates.  | G31| Detox setup; test utilities; CI config | Detox runs; test utilities work; CI executes E2E tests| QA Eng | 2d  |
| TEST2 | Write E2E tests for critical user flows | Write E2E tests: login flow, client list and search, visit start flow, visit documentation with auto-save, visit completion, offline mode, sync after reconnection, voice alert sending; target 80% coverage of critical paths. Reference: Arch Blueprint - project-documentation/architecture-output.md – Testing gates, E2E tests where behavior crosses boundaries. | TEST1 | E2E test suite; test reports| Tests pass; 80% critical path coverage; tests run in CI  | QA Eng | 5d  |
| TEST3 | Write integration tests for backend APIs| Write integration tests for all API endpoints: authentication, client management, visit documentation, sync, alerts, family portal; test success cases, error cases, edge cases; test authorization; target 90% endpoint coverage. Reference: Arch Blueprint - project-documentation/architecture-output.md – Testing gates, integration tests.  | TEST2 | Integration test suite; test reports| Tests pass; 90% endpoint coverage; tests run in CI| QA Eng | 4d  |
| TEST4 | Conduct load testing | Set up load testing using Artillery or k6; test API endpoints under load (100 concurrent users, 1000 req/min); test database performance under load; test sync performance with 1000 pending operations; identify bottlenecks; optimize as needed. Reference: Arch Blueprint - project-documentation/architecture-output.md – Performance, scalability.| TEST3 | Load test scripts; load test report | Load tests run; bottlenecks identified; performance acceptable| QA Eng | 2d  |
| TEST5 | Conduct accessibility testing| Test mobile app for accessibility: screen reader support (VoiceOver, TalkBack), color contrast (WCAG AA), touch target sizes (min 44x44pt), keyboard navigation; fix accessibility issues; document accessibility features. Reference: Design Documentation – Accessibility, WCAG compliance.| TEST4 | Accessibility test report; fixes | Accessibility tests pass; WCAG AA compliant; issues fixed| QA Eng | 2d  |
| TEST6 | Conduct device compatibility testing | Test mobile app on multiple devices: iPhone (12, 13, 14, SE), Android (Samsung, Google Pixel, various screen sizes); test on iOS 14+, Android 10+; test offline functionality on all devices; document device-specific issues and fixes. Reference: Arch Blueprint - project-documentation/architecture-output.md – Mobile Application, device compatibility.  | TEST5 | Device compatibility report; fixes  | Tests pass on all devices; issues documented and fixed| QA Eng | 3d  |
| TEST7 | Conduct user acceptance testing (UAT)| Recruit 5-10 caregivers for UAT; provide test accounts and test clients; observe users completing key workflows; collect feedback on usability, performance, bugs; document findings; prioritize and fix critical issues. Reference: Arch Blueprint - project-documentation/architecture-output.md – Design Philosophy, user experience first.| TEST6 | UAT report; user feedback; fixes | UAT complete; feedback collected; critical issues fixed  | QA Eng | 3d  |
| G32| Run CI, request review, merge PR – testing | Fix any remaining test failures; ensure all tests pass; ensure coverage targets met; request review from senior QA engineer; address feedback; squash-merge using "test: add comprehensive test suite".| TEST7 | Merged PR; release notes; test coverage report | CI green; all tests pass; coverage targets met; 1+ approval; branch deleted | QA Eng | 0.25d  |

---

## Phase CICD – CI/CD Pipeline

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G33| Create feature branch – cicd pipeline | Branch `feat/cicd-pipeline` from `main`; link to issue #17; open draft PR with checklist (build, deploy, rollback).| G32| Branch + draft PR  | PR open; CI triggered  | DevOps | 0.1d|
| CICD1 | Set up backend build pipeline | Configure GitHub Actions for backend: build Docker image, run tests, run SAST, push image to ECR; tag images with commit SHA and semantic version; configure pipeline to run on push to `main` and on tags. Reference: Arch Blueprint - project-documentation/architecture-output.md – CI/CD.  | G33| Backend build pipeline; Docker image in ECR | Pipeline runs; image built; tests pass; image pushed to ECR | DevOps | 2d  |
| CICD2 | Set up backend deployment pipeline | Configure GitHub Actions for backend deployment: deploy to ECS Fargate (staging and production); use blue-green deployment strategy; run smoke tests after deployment; rollback on smoke test failure; configure deployment approval for production. Reference: Arch Blueprint - project-documentation/architecture-output.md – Infrastructure, ECS Fargate.| CICD1 | Backend deployment pipeline; ECS services | Pipeline deploys to staging; smoke tests run; rollback works| DevOps | 2.5d|
| CICD3 | Set up mobile build pipeline  | Configure EAS Build for mobile app: build iOS and Android apps; run tests before build; configure build profiles (development, staging, production); configure code signing (iOS certificates, Android keystore); upload builds to EAS. Reference: Arch Blueprint - project-documentation/architecture-output.md – Mobile Application, React Native with Expo. | CICD2 | Mobile build pipeline; EAS builds | Pipeline builds iOS and Android; tests pass; builds uploaded| DevOps | 2d  |
| CICD4 | Set up mobile deployment pipeline| Configure EAS Submit for app store deployment: submit iOS builds to TestFlight and App Store; submit Android builds to Google Play (internal testing, beta, production); configure app store metadata; implement phased rollout (10%, 50%, 100%). Reference: Arch Blueprint - project-documentation/architecture-output.md – Mobile Application deployment. | CICD3 | Mobile deployment pipeline; app store submissions | Pipeline submits to TestFlight and Play Store; phased rollout works | DevOps | 2d  |
| CICD5 | Implement database migration pipeline | Configure database migration pipeline: run migrations on deployment; use node-pg-migrate; implement migration rollback; test migrations in staging before production; backup database before migrations; configure migration alerts. Reference: Arch Blueprint - project-documentation/architecture-output.md – Database migrations. | CICD4 | Migration pipeline; rollback scripts| Migrations run on deploy; rollback works; backups created| DevOps | 1.5d|
| CICD6 | Implement monitoring and alerting| Configure CloudWatch alarms: API error rate >5%, database CPU >80%, ECS task failures, disk space <20%; configure Sentry alerts: new error types, error spike (>100/min); configure PagerDuty for critical alerts; create runbooks for common issues. Reference: Arch Blueprint - project-documentation/architecture-output.md – Monitoring & Observability.| CICD5 | Monitoring setup; alert rules; runbooks| Alarms trigger correctly; PagerDuty notifies; runbooks documented| DevOps | 2d  |
| CICD7 | Implement rollback procedures | Document and automate rollback procedures: backend (redeploy previous ECS task definition), mobile (remove app version from stores), database (restore from backup, rollback migrations); test rollback procedures; create rollback runbook. Reference: Arch Blueprint - project-documentation/architecture-output.md – Risk & Rollback. | CICD6 | Rollback automation; rollback runbook  | Rollback procedures work; runbook documented; tested successfully| DevOps | 1.5d|
| G34| Run CI, request review, merge PR – cicd pipeline | Fix any pipeline issues; ensure all pipelines work end-to-end; request review from senior DevOps engineer; address feedback; squash-merge using "ci: implement CI/CD pipeline".  | CICD7 | Merged PR; release notes; pipeline documentation  | CI green; pipelines work; 1+ approval; branch deleted | DevOps | 0.25d  |

---

## Phase DOC – Documentation & Training

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G35  | Create feature branch – documentation | Branch `feat/documentation` from `main`; link to issue #18; open draft PR with checklist (API docs, user guides, runbooks).| G34  | Branch + draft PR| PR open; CI triggered| Backend Dev | 0.1d|
| DOC1 | Write API documentation| Document all API endpoints using OpenAPI 3.0 spec: request/response schemas, authentication, error codes, rate limits; generate API docs using Swagger UI; host docs at api.berthcare.ca/docs; include code examples (curl, JavaScript). Reference: Arch Blueprint - project-documentation/architecture-output.md – API Architecture. | G35  | OpenAPI spec; Swagger UI hosted| API docs complete; Swagger UI accessible; examples work | Backend Dev | 2d  |
| DOC2 | Write architecture documentation | Document system architecture: component diagram, data flow diagram, deployment diagram, security architecture; document technology stack decisions; document scaling strategy; document disaster recovery plan; store in `/docs/architecture/`. Reference: Arch Blueprint - project-documentation/architecture-output.md – entire document. | DOC1 | Architecture docs; diagrams | Architecture documented; diagrams clear; decisions explained | Backend Dev | 2d  |
| DOC3 | Write developer onboarding guide | Write guide for new developers: local setup instructions, monorepo structure, coding standards, Git workflow, PR process, testing requirements, deployment process; include troubleshooting section; store in `/docs/developer-guide.md`. Reference: Arch Blueprint - project-documentation/architecture-output.md – DevEx & Reliability.| DOC2 | Developer onboarding guide| Guide complete; new dev can set up in <1 hour; troubleshooting helpful  | Backend Dev | 1.5d|
| DOC4 | Write operational runbooks | Write runbooks for common operations: deployment, rollback, database backup/restore, scaling, incident response, monitoring dashboard usage; include step-by-step instructions with screenshots; store in `/docs/runbooks/`. Reference: Arch Blueprint - project-documentation/architecture-output.md – DevEx & Reliability, runbooks.| DOC3 | Operational runbooks| Runbooks complete; step-by-step instructions clear; tested| DevOps| 2d  |
| DOC5 | Write user guide for caregivers  | Write user guide for mobile app: getting started, logging in, viewing clients, starting visits, documenting visits, taking photos, completing visits, sending alerts, offline mode; include screenshots and videos; make available in-app. Reference: Design Documentation – User Guides.| DOC4 | caregiver user guide; screenshots; videos | User guide complete; screenshots clear; videos helpful  | QA Eng| 2d  |
| DOC6 | Write user guide for coordinators| Write user guide for coordinators: managing clients, managing care plans, receiving alerts, responding to alerts, viewing visit reports, managing family contacts; include screenshots; make available in web portal (future). Reference: Design Documentation – User Guides.  | DOC5 | coordinator user guide; screenshots | User guide complete; screenshots clear; comprehensive| QA Eng| 1.5d|
| DOC7 | Create training materials  | Create training materials: video tutorials (15-20 minutes), quick reference cards (PDF), FAQ document; conduct training sessions with pilot users; collect feedback; update materials based on feedback. Reference: Arch Blueprint - project-documentation/architecture-output.md – User Experience, training. | DOC6 | Training videos; reference cards; FAQ  | Training materials complete; pilot training done; feedback incorporated | QA Eng| 3d  |
| G36  | Run CI, request review, merge PR – documentation | Fix any documentation issues; ensure all links work; request review from PM and senior engineer; address feedback; squash-merge using "docs: add comprehensive documentation". | DOC7 | Merged PR; release notes  | CI green; docs complete; 2+ approvals; branch deleted| Backend Dev | 0.25d  |

---

## Phase LAUNCH – Production Launch

| ID  | Title | Description| Deps | Deliverables | Acceptance| Role| Effort |
| ----- | ----- | -----------|------|------------- | --------- |-----|--------|
| G37  | Create feature branch – production prep| Branch `feat/production-prep` from `main`; link to issue #19; open draft PR with checklist (production infra, data migration, launch plan).| G36  | Branch + draft PR  | PR open; CI triggered  | DevOps | 0.1d|
| LAUNCH1 | Set up production infrastructure  | Provision production AWS infrastructure in ca-central-1: RDS PostgreSQL (Multi-AZ, automated backups), ElastiCache Redis (cluster mode), S3 buckets (versioning, encryption), ECS Fargate (auto-scaling), CloudFront (CDN), Route 53 (DNS); configure security groups, IAM roles, VPC; enable AWS CloudTrail for audit. Reference: Arch Blueprint - project-documentation/architecture-output.md – Infrastructure, Canadian data residency. | G37  | Production AWS resources; Terraform configs  | All resources provisioned; security configured; audit enabled  | DevOps | 3d  |
| LAUNCH2 | Configure production monitoring| Set up production monitoring: CloudWatch dashboards (API, database, ECS), Sentry (error tracking), performance monitoring; configure alerts (critical: PagerDuty, warning: email); set up log aggregation; configure uptime monitoring (Pingdom or UptimeRobot). Reference: Arch Blueprint - project-documentation/architecture-output.md – Monitoring & Observability.  | LAUNCH1 | Production monitoring setup; dashboards| Monitoring active; alerts configured; dashboards show data  | DevOps | 2d  |
| LAUNCH3 | Conduct security review| Conduct final security review: verify all secrets in Secrets Manager, verify encryption at rest and in transit, verify HTTPS enforcement, verify PIPEDA compliance, verify audit logging, verify access controls; run final penetration test; document security posture. Reference: Arch Blueprint - project-documentation/architecture-output.md – Uncompromising Security.| LAUNCH2 | Security review report; pen test results  | Security review complete; no critical issues; compliance verified| Security Eng | 2d  |
| LAUNCH4 | Conduct performance testing in production | Run performance tests in production environment: load test API (100 concurrent users), test mobile app performance (launch time, UI response), test sync performance, test offline mode; verify all performance targets met; optimize if needed. Reference: Arch Blueprint - project-documentation/architecture-output.md – Obsessive Performance.| LAUNCH3 | Performance test results; optimization fixes | Performance targets met; no bottlenecks; optimizations applied | QA Eng | 2d  |
| LAUNCH5 | Prepare data migration plan | Create data migration plan if migrating from existing system: export data from old system, transform to new schema, validate data integrity, import to new system; create rollback plan; test migration in staging; document migration steps. Assumptions: No existing system for MVP, skip if greenfield. | LAUNCH4 | Data migration plan; migration scripts | Migration plan documented; scripts tested; rollback plan ready | Backend Dev  | 2d  |
| LAUNCH6 | Conduct pilot launch| Launch to pilot group (5-10 caregivers, 50-100 clients): deploy production infrastructure, deploy backend and mobile app, onboard pilot users, provide training, monitor usage closely, collect feedback daily, fix critical bugs immediately; run pilot for 2 weeks. Reference: Arch Blueprint - project-documentation/architecture-output.md – Launch strategy. | LAUNCH5 | Pilot launch; feedback report; bug fixes  | Pilot launched; users trained; feedback collected; critical bugs fixed | PM| 10d |
| LAUNCH7 | Prepare launch communications  | Prepare launch communications: press release, blog post, email to stakeholders, social media posts, app store descriptions (iOS, Android); coordinate with marketing team; schedule communications for launch day. Reference: Arch Blueprint - project-documentation/architecture-output.md – Launch.| LAUNCH6 | Launch communications; app store listings | Communications ready; app store listings approved; schedule set| PM| 2d  |
| LAUNCH8 | Execute production launch | Execute production launch: submit mobile app to App Store and Google Play, announce launch via communications, monitor system closely (24/7 for first week), respond to user feedback, fix bugs rapidly, scale infrastructure as needed; celebrate launch! Reference: Arch Blueprint - project-documentation/architecture-output.md – Launch.  | LAUNCH7 | Production launch; app in stores; monitoring | App live in stores; system stable; users onboarding; team celebrating  | PM + DevOps  | 3d  |
| G38  | Close launch PR and create release| Close launch PR; create Git tag for v1.0.0; generate release notes; document lessons learned; schedule retrospective; plan next iteration. | LAUNCH8 | Release v1.0.0; release notes; retrospective | Release tagged; notes published; retrospective scheduled | PM| 0.5d|

---

## Dependency-Ordered Task List

This list shows all tasks in strict dependency order, enabling parallel work where possible:

**Phase E – Environment & Tooling**

1. E1 (Initialize Git repository)
2. E2 (Set up CI bootstrap)
3. E3 (Configure monorepo structure)
4. E4 (Set up local development environment)
5. E5 (Configure AWS infrastructure - staging)
6. E6 (Set up monitoring & observability)
7. E7 (Configure Twilio accounts)
8. E8 (Update architecture docs – Environment setup)

**Phase B – Backend Core Infrastructure** 9. G1 (Create feature branch – backend scaffold) 10. B1 (Initialize Express.js backend) 11. B2 (Configure database connection) [parallel with B3, B4] 12. B3 (Configure Redis connection) [parallel with B2, B4] 13. B4 (Set up S3 client) [parallel with B2, B3] 14. G2 (Run CI, request review, merge PR – backend scaffold)

**Phase A – Authentication & Authorization** 15. G3 (Create feature branch – authentication) 16. A1 (Design database schema – users & auth) 17. A2 (Implement password hashing) 18. A3 (Implement JWT token generation) 19. A4 (Implement POST /v1/auth/register endpoint) 20. A5 (Implement POST /v1/auth/login endpoint) 21. A6 (Implement POST /v1/auth/refresh endpoint) 22. A7 (Implement JWT authentication middleware) 23. A8 (Implement role-based authorization middleware) 24. A9 (Implement POST /v1/auth/logout endpoint) 25. G4 (Run CI, request review, merge PR – authentication)

**Phase C – Client Management API** 26. G5 (Create feature branch – client management) 27. C1 (Design database schema – clients) 28. C2 (Design database schema – care plans) 29. C3 (Implement GET /v1/clients endpoint) 30. C4 (Implement GET /v1/clients/:clientId endpoint) 31. C5 (Implement POST /v1/clients endpoint) 32. C6 (Implement PATCH /v1/clients/:clientId endpoint) 33. C7 (Implement POST /v1/care-plans endpoint) 34. G6 (Run CI, request review, merge PR – client management)

**Phase V – Visit Documentation API** 35. G7 (Create feature branch – visit documentation) 36. V1 (Design database schema – visits) 37. V2 (Design database schema – visit documentation) 38. V3 (Design database schema – visit photos) 39. V4 (Implement POST /v1/visits endpoint) 40. V5 (Implement PATCH /v1/visits/:visitId endpoint) 41. V6 (Implement GET /v1/visits endpoint) 42. V7 (Implement GET /v1/visits/:visitId endpoint) 43. V8 (Implement photo upload flow) 44. V9 (Implement signature upload flow) 45. G8 (Run CI, request review, merge PR – visit documentation)

**Phase S – Offline Sync Engine** 46. G9 (Create feature branch – sync engine) 47. S1 (Design database schema – sync audit trail) 48. S2 (Implement POST /v1/sync/batch endpoint) 49. S3 (Implement conflict detection logic) 50. S4 (Implement GET /v1/sync/changes endpoint) 51. S5 (Implement sync status tracking) 52. S6 (Implement audit trail queries) 53. G10 (Run CI, request review, merge PR – sync engine)

**Phase T – Twilio Integration** 54. G11 (Create feature branch – twilio integration) 55. T1 (Design database schema – care coordination) 56. T2 (Implement Twilio Voice client) 57. T3 (Implement POST /v1/alerts/voice endpoint) 58. T4 (Implement voice alert escalation logic) 59. T5 (Implement Twilio SMS client) 60. T6 (Implement alert resolution tracking) 61. G12 (Run CI, request review, merge PR – twilio integration)

**Phase F – Family Portal** 62. G13 (Create feature branch – family portal) 63. F1 (Design database schema – family contacts) 64. F2 (Design database schema – family messages) 65. F3 (Implement daily message generation) 66. F4 (Implement daily message sending) 67. F5 (Implement SMS reply processing) 68. F6 (Implement reply keyword handlers) 69. F7 (Implement callback request management) 70. G14 (Run CI, request review, merge PR – family portal)

**Phase M – Mobile App Foundation** [Can start in parallel with backend after E8] 71. G15 (Create feature branch – mobile foundation) 72. M1 (Initialize React Native app with Expo) 73. M2 (Configure navigation) 74. M3 (Configure state management) 75. M4 (Configure local database) 76. M5 (Implement API client) 77. M6 (Configure design system foundation) 78. M7 (Configure offline detection) 79. G16 (Run CI, request review, merge PR – mobile foundation)

**Phase MA – Mobile Authentication** [Requires G4 (backend auth) and G16 (mobile foundation)] 80. G17 (Create feature branch – mobile auth) 81. MA1 (Implement secure token storage) 82. MA2 (Implement login screen UI) 83. MA3 (Implement login logic) 84. MA4 (Implement token refresh logic) 85. MA5 (Implement logout logic) 86. MA6 (Implement auth persistence) 87. G18 (Run CI, request review, merge PR – mobile auth)

**Phase MC – Mobile Client Management** [Requires G6 (backend clients) and G18 (mobile auth)] 88. G19 (Create feature branch – mobile clients) 89. MC1 (Implement client list screen UI) 90. MC2 (Implement client list data fetching) 91. MC3 (Implement client detail screen UI) 92. MC4 (Implement client detail data fetching) 93. MC5 (Implement client search) 94. G20 (Run CI, request review, merge PR – mobile clients)

**Phase MV – Mobile Visit Documentation** [Requires G8 (backend visits) and G20 (mobile clients)] 95. G21 (Create feature branch – mobile visits) 96. MV1 (Implement GPS auto-check-in) 97. MV2 (Implement visit start flow) 98. MV3 (Implement visit documentation screen UI) 99. MV4 (Implement auto-save logic) 100. MV5 (Implement voice input) 101. MV6 (Implement photo capture) 102. MV7 (Implement signature capture) 103. MV8 (Implement visit completion flow) 104. MV9 (Implement visit list screen) 105. G22 (Run CI, request review, merge PR – mobile visits)

**Phase MS – Mobile Sync Engine** [Requires G10 (backend sync) and G22 (mobile visits)] 106. G23 (Create feature branch – mobile sync) 107. MS1 (Implement sync queue) 108. MS2 (Implement background sync service) 109. MS3 (Implement conflict resolution) 110. MS4 (Implement delta sync) 111. MS5 (Implement sync status UI) 112. MS6 (Implement background task registration) 113. G24 (Run CI, request review, merge PR – mobile sync)

**Phase MA2 – Mobile Care Coordination** [Requires G12 (backend alerts) and G24 (mobile sync)] 114. G25 (Create feature branch – mobile alerts) 115. MA2_1 (Implement floating alert button) 116. MA2_2 (Implement voice message recording) 117. MA2_3 (Implement alert sending) 118. MA2_4 (Implement push notification setup) 119. MA2_5 (Implement alert status tracking) 120. G26 (Run CI, request review, merge PR – mobile alerts)

**Phase P – Performance Optimization** [Requires G26 (all features complete)] 121. G27 (Create feature branch – performance) 122. P1 (Optimize app launch time) 123. P2 (Optimize UI response time) 124. P3 (Optimize database queries) 125. P4 (Optimize image loading) 126. P5 (Optimize sync performance) 127. P6 (Implement performance monitoring) 128. G28 (Run CI, request review, merge PR – performance)

**Phase SEC – Security Hardening** [Requires G28 (performance complete)] 129. G29 (Create feature branch – security hardening) 130. SEC1 (Implement end-to-end encryption for sensitive data) 131. SEC2 (Implement PIPEDA compliance measures) 132. SEC3 (Implement comprehensive audit trail) 133. SEC4 (Implement rate limiting and DDoS protection) 134. SEC5 (Implement security headers and HTTPS enforcement) 135. SEC6 (Conduct security audit and penetration testing) 136. SEC7 (Implement secret management) 137. G30 (Run CI, request review, merge PR – security hardening)

**Phase TEST – Testing & Quality Assurance** [Requires G30 (security complete)] 138. G31 (Create feature branch – testing) 139. TEST1 (Set up E2E testing framework) 140. TEST2 (Write E2E tests for critical user flows) 141. TEST3 (Write integration tests for backend APIs) 142. TEST4 (Conduct load testing) 143. TEST5 (Conduct accessibility testing) 144. TEST6 (Conduct device compatibility testing) 145. TEST7 (Conduct user acceptance testing) 146. G32 (Run CI, request review, merge PR – testing)

**Phase CICD – CI/CD Pipeline** [Requires G32 (testing complete)] 147. G33 (Create feature branch – cicd pipeline) 148. CICD1 (Set up backend build pipeline) 149. CICD2 (Set up backend deployment pipeline) 150. CICD3 (Set up mobile build pipeline) 151. CICD4 (Set up mobile deployment pipeline) 152. CICD5 (Implement database migration pipeline) 153. CICD6 (Implement monitoring and alerting) 154. CICD7 (Implement rollback procedures) 155. G34 (Run CI, request review, merge PR – cicd pipeline)

**Phase DOC – Documentation & Training** [Can run in parallel with CICD] 156. G35 (Create feature branch – documentation) 157. DOC1 (Write API documentation) 158. DOC2 (Write architecture documentation) 159. DOC3 (Write developer onboarding guide) 160. DOC4 (Write operational runbooks) 161. DOC5 (Write user guide for caregivers) 162. DOC6 (Write user guide for coordinators) 163. DOC7 (Create training materials) 164. G36 (Run CI, request review, merge PR – documentation)

**Phase LAUNCH – Production Launch** [Requires G34 (CICD) and G36 (docs)] 165. G37 (Create feature branch – production prep) 166. LAUNCH1 (Set up production infrastructure) 167. LAUNCH2 (Configure production monitoring) 168. LAUNCH3 (Conduct security review) 169. LAUNCH4 (Conduct performance testing in production) 170. LAUNCH5 (Prepare data migration plan) 171. LAUNCH6 (Conduct pilot launch) 172. LAUNCH7 (Prepare launch communications) 173. LAUNCH8 (Execute production launch) 174. G38 (Close launch PR and create release)

**Total: 174 tasks**

---

## Timeline Feasibility

**Team Composition:**

- 2 Backend Developers
- 2 Frontend Developers (React Native)
- 1 DevOps Engineer
- 1 QA Engineer
- 1 Security Engineer (part-time, 50%)
- 1 Product Manager (coordination, UAT, launch)

**Estimated Timeline:**

- **Phase E (Environment):** 2 weeks
- **Phase B-F (Backend APIs):** 8 weeks (parallel work on different APIs)
- **Phase M-MA2 (Mobile App):** 10 weeks (parallel with backend after week 2)
- **Phase P (Performance):** 2 weeks
- **Phase SEC (Security):** 2 weeks
- **Phase TEST (Testing):** 3 weeks
- **Phase CICD (CI/CD):** 2 weeks (parallel with docs)
- **Phase DOC (Documentation):** 2 weeks (parallel with CICD)
- **Phase LAUNCH (Launch):** 4 weeks (includes 2-week pilot)

**Total Duration: ~24 weeks (6 months)**

**Critical Path:**

1. Environment setup (E1-E8)
2. Backend core + auth (B1-A9)
3. Backend APIs (C1-F7) - can parallelize
4. Mobile foundation + auth (M1-MA6) - parallel with backend
5. Mobile features (MC1-MA2_5) - depends on backend APIs
6. Performance optimization (P1-P6)
7. Security hardening (SEC1-SEC7)
8. Testing (TEST1-TEST7)
9. CI/CD + Documentation (CICD1-DOC7) - parallel
10. Production launch (LAUNCH1-LAUNCH8)

**Parallelization Opportunities:**

- Backend and mobile development can run in parallel after environment setup
- Different backend APIs can be developed in parallel (clients, visits, sync, alerts, family portal)
- Different mobile features can be developed in parallel (clients, visits, sync, alerts)
- CI/CD and documentation can run in parallel
- Testing can start earlier with continuous integration

**Risk Mitigation:**

- Early CI/CD setup enables continuous deployment and testing
- Offline-first architecture reduces dependency on backend availability
- Feature flags enable dark launches and gradual rollout
- Comprehensive testing reduces production bugs
- 2-week pilot identifies issues before full launch

**Schedule Confidence: High** - The plan is feasible with the proposed team size and timeline, assuming:

- Team members are experienced with the technology stack
- No major scope changes during development
- Effective parallelization of independent work streams
- Regular communication and coordination between teams

---

## Success Metrics

**Performance Targets:**

- App launch time: <2 seconds ✓
- UI response time: <100ms ✓
- Database query time: <10ms ✓
- Auto-save delay: <1 second ✓
- Background sync: <30 seconds ✓
- Alert delivery: <15 seconds ✓

**Quality Targets:**

- Unit test coverage: ≥80% ✓
- Integration test coverage: ≥90% endpoints ✓
- E2E test coverage: ≥80% critical paths ✓
- Zero critical security vulnerabilities ✓
- WCAG AA accessibility compliance ✓

**User Experience Targets:**

- Offline functionality: 99.9% reliability ✓
- Zero data loss (multiple safety nets) ✓
- Invisible sync (no user intervention) ✓
- Voice input: 3× faster than typing ✓
- Smart data reuse: 80% pre-filled ✓

**Business Targets:**

- Pilot launch: 2 weeks, 5-10 caregivers ✓
- Production launch: 6 months from start ✓
- User satisfaction: >4.5/5 stars ✓
- System uptime: >99.9% ✓
- Support tickets: <5% of users ✓

---

**End of Implementation Plan**

_This plan provides a complete, dependency-ordered roadmap for building BerthCare from scratch to production launch. Every requirement from the architecture blueprint is mapped to specific tasks with clear acceptance criteria, ensuring nothing is missed in the transition from specification to implementation._
